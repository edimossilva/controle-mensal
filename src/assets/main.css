@import 'tailwindcss';

@theme {
  --color-bg: #06080f;
  --color-bg-subtle: #0c1120;
  --color-surface: rgba(255, 255, 255, 0.04);
  --color-surface-hover: rgba(255, 255, 255, 0.07);
  --color-surface-active: rgba(255, 255, 255, 0.1);
  --color-border: rgba(255, 255, 255, 0.08);
  --color-border-hover: rgba(255, 255, 255, 0.16);

  --color-text: #e2e8f0;
  --color-text-secondary: #94a3b8;
  --color-text-muted: #475569;

  --color-primary: #22d3ee;
  --color-primary-hover: #06b6d4;
  --color-primary-dim: rgba(34, 211, 238, 0.12);

  --color-success: #34d399;
  --color-success-dim: rgba(52, 211, 153, 0.12);

  --color-danger: #fb7185;
  --color-danger-hover: #f43f5e;
  --color-danger-dim: rgba(251, 113, 133, 0.12);

  --color-warning: #fbbf24;

  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 16px;

  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 8px 40px rgba(0, 0, 0, 0.6);
  --shadow-glow: 0 0 24px rgba(34, 211, 238, 0.08);

  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
}

/* ── Base ─────────────────────────────────────────────────────── */
@layer base {
  html {
    color-scheme: dark;
  }

  body {
    @apply font-sans text-[0.9375rem] leading-relaxed text-text bg-bg min-h-screen;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1 {
    @apply text-[1.75rem] font-bold tracking-tight text-text mb-5;
  }

  h2 {
    @apply text-[1.35rem] font-semibold tracking-tight;
  }

  p {
    @apply text-text-secondary;
  }

  a {
    @apply text-primary no-underline transition-colors duration-[120ms];
  }

  a:hover {
    @apply text-primary-hover;
  }

  table {
    @apply w-full mt-5 bg-surface border border-border rounded-lg overflow-hidden;
    border-collapse: separate;
    border-spacing: 0;
  }

  thead {
    background: rgba(255, 255, 255, 0.03);
  }

  th {
    @apply px-4 py-3 text-left text-xs font-semibold uppercase tracking-widest text-text-muted border-b border-border;
  }

  td {
    @apply px-4 py-3 text-sm text-text-secondary border-b border-border;
  }

  tbody tr {
    @apply transition-colors duration-[120ms];
  }

  tbody tr:hover {
    @apply bg-surface-hover;
  }

  tbody tr:last-child td {
    @apply border-b-0;
  }

  label {
    @apply block text-[0.8125rem] font-medium text-text-secondary mb-1.5 tracking-[0.01em];
  }

  input,
  select,
  textarea {
    @apply w-full px-3.5 py-2.5 font-sans text-sm text-text bg-surface border border-border rounded-sm outline-none
           transition-[border-color,box-shadow,background] duration-[120ms];
  }

  input:hover,
  select:hover,
  textarea:hover {
    @apply border-border-hover bg-surface-hover;
  }

  input:focus,
  select:focus,
  textarea:focus {
    @apply border-primary bg-surface-hover;
    box-shadow: 0 0 0 3px var(--color-primary-dim);
  }

  input::placeholder,
  textarea::placeholder {
    @apply text-text-muted;
  }

  select {
    @apply cursor-pointer appearance-none pr-9;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2394a3b8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10l-5 5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 0.75rem center;
  }

  select option {
    @apply bg-bg-subtle text-text;
  }

  input[type='color'] {
    @apply w-12 h-9 p-1 cursor-pointer;
  }

  textarea {
    @apply resize-y min-h-20;
  }

  dialog {
    @apply bg-bg-subtle text-text border border-border rounded-lg p-7 min-w-[360px] shadow-lg;
  }

  dialog::backdrop {
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
  }
}

/* ── Components ───────────────────────────────────────────────── */
@layer components {
  .btn {
    @apply inline-flex items-center gap-1.5 px-[1.1rem] py-2 font-sans text-[0.8125rem] font-medium leading-[1.4]
           text-bg bg-primary border-none rounded-sm cursor-pointer no-underline
           transition-[background,box-shadow,transform] duration-[120ms];
  }

  .btn:hover {
    @apply bg-primary-hover shadow-glow -translate-y-px;
  }

  .btn:active {
    @apply translate-y-0;
  }

  .btn-danger {
    @apply bg-danger text-white;
  }

  .btn-danger:hover {
    @apply bg-danger-hover;
    box-shadow: 0 0 24px rgba(244, 63, 94, 0.15);
  }

  .btn-secondary {
    @apply bg-surface text-text-secondary border border-border;
  }

  .btn-secondary:hover {
    @apply bg-surface-hover text-text border-border-hover;
  }

  .btn-link {
    @apply bg-transparent border-none text-text-secondary font-sans text-[0.8125rem] font-medium
           cursor-pointer px-2 py-1 rounded-sm no-underline
           transition-[color,background] duration-[120ms];
  }

  .btn-link:hover {
    @apply text-primary bg-primary-dim;
  }

  .btn-link.danger {
    @apply text-text-muted;
  }

  .btn-link.danger:hover {
    @apply text-danger bg-danger-dim;
  }

  th.sortable {
    @apply cursor-pointer select-none transition-colors duration-[120ms];
  }

  th.sortable:hover {
    @apply text-text-secondary;
  }

  th.sortable::after {
    content: ' \2195';
    @apply text-[0.7em] opacity-40;
  }

  th.sort-asc::after {
    content: ' \2191';
    @apply opacity-100 text-primary;
  }

  th.sort-desc::after {
    content: ' \2193';
    @apply opacity-100 text-primary;
  }

  th.sort-asc,
  th.sort-desc {
    @apply text-text-secondary;
  }

  td .actions {
    @apply flex items-center gap-1;
  }

  .form-group {
    @apply mb-5;
  }

  .dialog-actions {
    @apply flex gap-2 justify-end mt-6;
  }

  .error {
    @apply text-danger text-[0.8125rem] mt-2 px-3 py-2 bg-danger-dim rounded-sm border border-[rgba(251,113,133,0.15)];
  }

  .positive {
    @apply text-success;
  }

  .negative {
    @apply text-danger;
  }

  .color-badge {
    @apply inline-block w-5 h-5 rounded-full border-2 border-border;
  }
}
